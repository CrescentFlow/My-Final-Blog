**GIT使用注意事项**

<1>流程

git -init 初始化main或者master

git -add将文件暂存到缓冲区域

git -commit -m 执行存档

git -remote add origin address 连接远程仓库

git push -u origin main 推送或者拉取

<2>其他常用命令

git status 查看git现在的状态

git log 查看历史

keygen -v 创建钥匙文件

git branch -M main重命名当前分支名称

git remote remove origin 删除错误的origin

git pull origin main --allow-unrealated-histories

cat /.ssh打开公钥文件

mkdir创建文件 -p强制创建文件

<3>*使用HTTP premision denied时选择SSH{fetel:unable to access}，或者直接tool slove GitHub CLI;*

1. 生成ssh密钥ssh-keygen -t name -C"[emai@example.com](mailto:emai@example.com)"

2. Add ssh key

3. git remove origin

4. git remote add origin [git@github.com](mailto:git@github.com)

22端口拒绝时选择443端口；

1. mkdir -p ~/.ssh

2. chmod 700 ~/.ssh

3. notepad ~/.ssh/config

```config
Host github.com
     Hostname ssh.github.com
     Port 443
     User git
     IdentityFile /d/id-
```

4. chmod 600 ~/.ssh/config 或者绝对路径chomd 600 "C:\Users\china-name.ssh\config" (ls验证是否成功ls -la "C:\Users\china-name.ssh/config")if document is true : chmod 600 "C:\Users\china-name.ssh/config"不行直接改安全属性

5. 测试连接是否畅通

ssh -T [git@github.com](mailto:git@github.com)

<4>*路径无法识别中文用户名解决方法{could not create directory}*

1. 跳过./ssh的限制无法识别直接在纯英文可识别的路径下创建keygen 文件

2. 并且同步更新SSH和config-identityfile并且测试

export SSH_HOME=/d/my-ssh-config

ssh -T -F /d/my-ssh-config/config [git@github.com](mailto:git@github.com)

3. 但是路径回溯机制还是可能导致无法识别创建的英文文件，这时使用-o参数，在命令行直接禁用所有会触发路径回溯的选项

ssh -T -o"UserKnownHostsFile=/dev/null" -o "StirctHostsKeyChecking=no" [git@github.com](mailto:git@github.com)

<5>*但还是可能会遇到密钥路径无法找到的问题，记得用参数替换实际密钥文件路径*

ssh -T -o "UserKnownHostsFile=dev/null" -o "StrictHostKeyChecking=no" -i /d/my-ssh-config/id

<6> *即使找到了路径和密钥也可能遇到网络层面的问题connection reset by peer此时的密码信息还没有发送到仓库就已经中断连接了，记得保持连接活跃*

ssh -T -o "UserKnownHostsFile=/dev/null" -o"StrictHostsKeyChecking=no" -o "ServerAliveInterval=30" -i /d/my-ssh-config/id [git@github.com](mailto:git@github.com)

<7> *但还是可能卡住，先尝试推送代码；他很可能顽固使用HTTPS协议导致不识别你的SSH协议，尝试修改远程仓库地址，*

git remote remove origin

git remote add origin [git@github.com](mailto:git@github.com):adress.git

git remote -v 验证是否修改成功

<8> *路径，密钥，协议，之后可能会出现首次Permission denied的问题，需要手动添加私钥文件*

eval $ (ssh -agent -s) 运行agent

ssh-add /d/my-ssh-config/id

ssh-add -l

<9> *创建仓库时如果初始化readme文件可能会导致两端文件不同步报Fetch错误，注意合并不相关历史的文件,远程有本地没有的文件*

git pull origin main --allow-unrealated-histories

esc+wq+push \

new windows -> git pull origin main --allow-unrealated-histories --no-edit

<10> *合并完成之后需要一个提交命令来最终确认防止卡在特殊状态（main|MERGING)让分支状态回归正常*

git commit -m "Merge remote-tracking branch 'origin/main' "如果不需要更详细的说明直接结束 git commit --no--edit

<11> *文件被修改之后更新状态需要重新走流程*

git add readme.txt

git commit -m "Update readme.txt"

git push -u origin main
